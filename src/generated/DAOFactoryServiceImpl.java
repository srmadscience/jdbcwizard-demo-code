package com.orindasoft.demo.generated;


import com.orindasoft.pub.CSException; 
import com.orindasoft.pub.CSDBException; 
import com.orindasoft.pub.SqlUtils; 
import com.orindasoft.pub.OracleResourceUser; 
import com.orindasoft.pub.LogInterface; 
import com.orindasoft.demo.generated.plsql.*; 
// JSR-181 Support is enabled if your target JVM is 1.6 or higher...
import javax.jws.*; 
// If you need to change the behaviour of @WebService use the 'Extra Java' field of 
// 'Extra Options' tab - any @WebService specified there will replace the one below
@WebService(endpointInterface = "com.orindasoft.demo.generated.DAOFactoryServiceInterface")
/** 
* WSDL Compatible Web Services class used by classes generated by JDBCWizard
* 
* <p>Generated by JDBCWizard build 2814 at 2011/11/22 00:33:46.147 GMT
* <p>JDBCWizard is made by <a href="http://www.orindasoft.com/?pdsrc=GD2814" target="_blank">Orinda Software Ltd, Dublin, Ireland</a>
* <p>Target Database: Oracle 10.2.0
* <p> -------------------------------------------------------------------------
* <p> WARNING: This code will stop working around the time JDBCWizard expires.
* <p> This restriction only exists in the demo version of JDBCWizard.
* <p> -------------------------------------------------------------------------
* <p> JDBCWizard Tips 7 of 19:
* <p> JDBCWizard can run stored procedures with Oracle VARRAYS as parameters
* <p> -------------------------------------------------------------------------
* 
* <p>Copyright Orinda Software 2003-2009
* @author devteam60@orindabuild.com
* @version 1.1
*/ 
public class DAOFactoryServiceImpl extends DAOFactory implements OracleResourceUser, DAOFactoryServiceInterface
{ 
 
/** 
* Flag that says whether we should release DB resources after 
* each service call. The default value for this is controlled by 
* the JDBCWizard UI.
* @since JDBCWizard 4.0.2139
*/ 
protected boolean alwaysReleaseResources = false; 

/** 
* Flag that says whether we should interpret Double.MIN_VALUE
* as database NULL when passed in as a parameter 
* @since JDBCWizard 6.0.2707
*/ 
protected boolean minValueIsNULL = false; 

/** 
* Flag that says whether we should cast NULL 
* record parameters to new, empty parameters 
* @since JDBCWizard 6.0.2707
*/ 
protected boolean castNullToNewObject = false; 

/** 
* Call parent constructor with no arguments
* @see com.orindasoft.demo.generated.DAOFactory
*/                                   
public DAOFactoryServiceImpl() 
  {                                                 
  super();
  }                                                 
                                                 
/** 
* Call constructor of DAOFactory using a database connection and an instance of LogInterface 
* @param java.sql.Connection theConnection A database connection 
* @param LogInterface theLog An instance of a class that implements com.orindasoft.pub.LogInterface 
* @see com.orindasoft.demo.generated.DAOFactory
* @since JDBCWizard V5.0.2239
*/ 
public DAOFactoryServiceImpl(java.sql.Connection theConnection, LogInterface theLog) 
  { 
  super(theConnection,theLog); 
  } 
 
/** 
* Call constructor of DAOFactory using an instance of LogInterface  
* @param LogInterface theLog An instance of a class that implements com.orindasoft.pub.LogInterface  
* @see com.orindasoft.demo.generated.DAOFactory
* @since JDBCWizard V5.0.2239
*/                                   
public DAOFactoryServiceImpl(LogInterface theLog)      
  {                                                 
  super(theLog);
  }                                                  
   
 
/** 
* Set flag the says whether we should release DB resources after 
* each service call.
* @since JDBCWizard 4.0.2139
*/ 
public void setAlwaysReleaseResourcesFlag(boolean alwaysReleaseResources)
  {
  this.alwaysReleaseResources = alwaysReleaseResources;
  }
 
 
/** 
* Flag that says whether we should cast NULL 
* record parameters to new, empty parameters 
* @since JDBCWizard 6.0.2707
*/ 
public void setMinValueIsNull(boolean minValueIsNULL)
  {
  this.minValueIsNULL = minValueIsNULL;
  }
 
 
/** 
* Set flag that says whether we should interpret Double.MIN_VALUE
* as database NULL when passed in as a parameter 
* @since JDBCWizard 6.0.2707
*/ 
public void setCastNullToNewObject(boolean castNullToNewObject)
  {
  this.castNullToNewObject = castNullToNewObject;
  }
 
/** 
* SequentialNumberGenerator - Access Sequence SEQUENTIAL_NUMBER_GENERATOR
*/ 
public long serviceSequenceSequentialNumberGenerator() throws DAOFactoryServiceException
  {
  try
    {
    com.orindasoft.demo.generated.sequence.SequentialNumberGenerator theService = getSequentialNumberGeneratorSequenceDAO();
    
    return (theService.getNext());
    }
  catch (com.orindasoft.pub.CSException e)
    {
    DAOFactoryServiceException e2 = new DAOFactoryServiceException(e.getMessage());
    theLog.error(e.getMessage());
    throw (e2);
    }
  }
/** 
* Call Class CursorExampleDirectFlightAvailable as a service
* @param String paramPFromcity VARCHAR2
* @param String paramPTocity VARCHAR2
* @return boolean
* @throws DAOFactoryServiceException
*/
// JSR-181 support - make this method part of a web service
@WebMethod
public boolean servicePlsqlCursorExampleDirectFlightAvailable
    (@WebParam(name="paramPFromcity") String paramPFromcity
    ,@WebParam(name="paramPTocity") String paramPTocity) throws DAOFactoryServiceException
  {
  try
    {
    theLog.debug("servicePlsqlCursorExampleDirectFlightAvailable Starting");
    
    // Declare variable to hold result of service
    boolean serviceOutput;
    
    // Get instance of created class
    theLog.debug("servicePlsqlCursorExampleDirectFlightAvailable: Get instance of created class");
    com.orindasoft.demo.generated.plsql.CursorExampleDirectFlightAvailable theService = getCursorExampleDirectFlightAvailablePlSqlDAO();
    
    // Set parameters
    theLog.debug("servicePlsqlCursorExampleDirectFlightAvailable: Set parameters");
    theService.setParamPFromcity(paramPFromcity);
    theService.setParamPTocity(paramPTocity);
    
    // Call procedure
    theLog.debug("servicePlsqlCursorExampleDirectFlightAvailable: Call procedure");
    theService.executeProc();
    
    // Unload results
    theLog.debug("servicePlsqlCursorExampleDirectFlightAvailable: Unload results");
    serviceOutput = theService.getFunctionResultBoolean(false);
    
    theLog.debug("servicePlsqlCursorExampleDirectFlightAvailable Returning Data");
    return(serviceOutput);
    }
  catch (com.orindasoft.pub.CSException e)
    {
    DAOFactoryServiceException e2 = new DAOFactoryServiceException(e.getMessage());
    theLog.error("servicePlsqlCursorExampleDirectFlightAvailable Failed:");
    theLog.error(e.getMessage());
    throw (e2);
    }
  finally
    {
    
    if (alwaysReleaseResources)
      {
      // Hand back DB connection...
      releaseResources();
      }
    
    }
  }
/** 
* Call Class CursorExampleFindDirectFlights as a service
* @param String paramPFromcity VARCHAR2
* @param String paramPTocity VARCHAR2
* @param double paramPOrderby NUMBER
* @return com.orindasoft.demo.generated.plsql.CursorExampleFlightsRefcursorTypeAttrs[]
* @throws DAOFactoryServiceException
*/
// JSR-181 support - make this method part of a web service
@WebMethod
public com.orindasoft.demo.generated.plsql.CursorExampleFlightsRefcursorTypeAttrs[] servicePlsqlCursorExampleFindDirectFlights
    (@WebParam(name="paramPFromcity") String paramPFromcity
    ,@WebParam(name="paramPTocity") String paramPTocity
    ,@WebParam(name="paramPOrderby") double paramPOrderby) throws DAOFactoryServiceException
  {
  try
    {
    theLog.debug("servicePlsqlCursorExampleFindDirectFlights Starting");
    
    // Declare variable to hold result of service
    com.orindasoft.demo.generated.plsql.CursorExampleFlightsRefcursorTypeAttrs[] serviceOutput;
    
    // Get instance of created class
    theLog.debug("servicePlsqlCursorExampleFindDirectFlights: Get instance of created class");
    com.orindasoft.demo.generated.plsql.CursorExampleFindDirectFlights theService = getCursorExampleFindDirectFlightsPlSqlDAO();
    
    // Make sure we avoid temporary files
    theService.setUseByteArraysForLongsAndLOBS(true);
    
    // Set parameters
    theLog.debug("servicePlsqlCursorExampleFindDirectFlights: Set parameters");
    theService.setParamPFromcity(paramPFromcity);
    theService.setParamPTocity(paramPTocity);
     
    if (minValueIsNULL && paramPOrderby == Double.MIN_VALUE)
      {
      theService.setParamPOrderbyToNull();
      }
    else
      {
      theService.setParamPOrderby(paramPOrderby);
      }
       
    
    // Call procedure
    theLog.debug("servicePlsqlCursorExampleFindDirectFlights: Call procedure");
    theService.executeProc();
    
    // Unload results
    theLog.debug("servicePlsqlCursorExampleFindDirectFlights: Unload results");
    serviceOutput = (CursorExampleFlightsRefcursorTypeAttrs[])CursorExampleFlightsRefcursorType.createCursorExampleFlightsRefcursorTypeArrayFromRowSet(theService.getParamPFlightlist(),theLog);
    
    theLog.debug("servicePlsqlCursorExampleFindDirectFlights Returning Data");
    return(serviceOutput);
    }
  catch (com.orindasoft.pub.CSException e)
    {
    DAOFactoryServiceException e2 = new DAOFactoryServiceException(e.getMessage());
    theLog.error("servicePlsqlCursorExampleFindDirectFlights Failed:");
    theLog.error(e.getMessage());
    throw (e2);
    }
  finally
    {
    
    if (alwaysReleaseResources)
      {
      // Hand back DB connection...
      releaseResources();
      }
    
    }
  }
/** 
* Call Class CursorExampleGetlists as a service
* @return com.orindasoft.demo.generated.plsql.CursorExampleGetlistsReturn
* @throws DAOFactoryServiceException
*/
// JSR-181 support - make this method part of a web service
@WebMethod
public com.orindasoft.demo.generated.plsql.CursorExampleGetlistsReturn servicePlsqlCursorExampleGetlists() throws DAOFactoryServiceException
  {
  try
    {
    theLog.debug("servicePlsqlCursorExampleGetlists Starting");
    
    // Declare variable to hold result of service
    com.orindasoft.demo.generated.plsql.CursorExampleGetlistsReturn serviceOutput = new com.orindasoft.demo.generated.plsql.CursorExampleGetlistsReturn();
    
    // Get instance of created class
    theLog.debug("servicePlsqlCursorExampleGetlists: Get instance of created class");
    com.orindasoft.demo.generated.plsql.CursorExampleGetlists theService = getCursorExampleGetlistsPlSqlDAO();
    
    // Make sure we avoid temporary files
    theService.setUseByteArraysForLongsAndLOBS(true);
    
    // Set parameters
    theLog.debug("servicePlsqlCursorExampleGetlists: Set parameters");
    
    // Call procedure
    theLog.debug("servicePlsqlCursorExampleGetlists: Call procedure");
    theService.executeProc();
    
    // Unload results
    theLog.debug("servicePlsqlCursorExampleGetlists: Unload results");
    serviceOutput.paramPAirlineListing = (CursorExampleAirlineRefcursorTypeAttrs[])CursorExampleAirlineRefcursorType.createCursorExampleAirlineRefcursorTypeArrayFromRowSet(theService.getParamPAirlineListing(),theLog);
    serviceOutput.paramPAirportListing = (CursorExampleAirportRefcursorTypeAttrs[])CursorExampleAirportRefcursorType.createCursorExampleAirportRefcursorTypeArrayFromRowSet(theService.getParamPAirportListing(),theLog);
    serviceOutput.paramPAircraftListing = (CursorExampleAircraftRefcursorTypeAttrs[])CursorExampleAircraftRefcursorType.createCursorExampleAircraftRefcursorTypeArrayFromRowSet(theService.getParamPAircraftListing(),theLog);
    
    theLog.debug("servicePlsqlCursorExampleGetlists Returning Data");
    return(serviceOutput);
    }
  catch (com.orindasoft.pub.CSException e)
    {
    DAOFactoryServiceException e2 = new DAOFactoryServiceException(e.getMessage());
    theLog.error("servicePlsqlCursorExampleGetlists Failed:");
    theLog.error(e.getMessage());
    throw (e2);
    }
  finally
    {
    
    if (alwaysReleaseResources)
      {
      // Hand back DB connection...
      releaseResources();
      }
    
    }
  }
/** 
* Call Class ObjectArrayExampleAddBookingsObjectArray as a service
* @param CustomersAttrs paramPCustomer PL/SQL RECORD
* @param BookingsTypeAttrs[] paramPBookingTable TABLE
* @return String
* @throws DAOFactoryServiceException
*/
// JSR-181 support - make this method part of a web service
@WebMethod
public String servicePlsqlObjectArrayExampleAddBookingsObjectArray
    (@WebParam(name="paramPCustomer") CustomersAttrs paramPCustomer
    ,@WebParam(name="paramPBookingTable") BookingsTypeAttrs[] paramPBookingTable) throws DAOFactoryServiceException
  {
  try
    {
    theLog.debug("servicePlsqlObjectArrayExampleAddBookingsObjectArray Starting");
    
    // Fill in null parameters with objects if requested
    if (castNullToNewObject) 
      {
      if (paramPCustomer == null) paramPCustomer = new CustomersAttrs();
      if (paramPBookingTable == null) paramPBookingTable = new BookingsTypeAttrs[0];
      }
     
    // Declare variable to hold result of service
    String serviceOutput;
    
    // Get instance of created class
    theLog.debug("servicePlsqlObjectArrayExampleAddBookingsObjectArray: Get instance of created class");
    com.orindasoft.demo.generated.plsql.ObjectArrayExampleAddBookingsObjectArray theService = getObjectArrayExampleAddBookingsObjectArrayPlSqlDAO();
    
    // Set parameters
    theLog.debug("servicePlsqlObjectArrayExampleAddBookingsObjectArray: Set parameters");
     
    if (paramPCustomer != null)
      {
      theService.setParamPCustomer(Customers.createCustomersFromCustomersAttrs(paramPCustomer));
      }
    else
      {
      theService.setParamPCustomerToNull();
      }
     
    if (paramPBookingTable != null)
      {
      theService.setParamPBookingTable(new BookingsTable(theLog, (BookingsType.createBookingsTypeArrayFromBookingsTypeAttrsArray(paramPBookingTable))));
      }
    else
      {
      theService.setParamPBookingTableToNull();
      }
    
    // Call procedure
    theLog.debug("servicePlsqlObjectArrayExampleAddBookingsObjectArray: Call procedure");
    theService.executeProc();
    
    // Unload results
    theLog.debug("servicePlsqlObjectArrayExampleAddBookingsObjectArray: Unload results");
    serviceOutput = theService.getParamPStatusMessage();
    
    theLog.debug("servicePlsqlObjectArrayExampleAddBookingsObjectArray Returning Data");
    return(serviceOutput);
    }
  catch (com.orindasoft.pub.CSException e)
    {
    DAOFactoryServiceException e2 = new DAOFactoryServiceException(e.getMessage());
    theLog.error("servicePlsqlObjectArrayExampleAddBookingsObjectArray Failed:");
    theLog.error(e.getMessage());
    throw (e2);
    }
  finally
    {
    
    if (alwaysReleaseResources)
      {
      // Hand back DB connection...
      releaseResources();
      }
    
    }
  }
/** 
* Call Class ObjectArrayExampleGetObjectArrayOfFlights as a service
* @param String paramPCity VARCHAR2
* @return FlightsTypeAttrs[]
* @throws DAOFactoryServiceException
*/
// JSR-181 support - make this method part of a web service
@WebMethod
public FlightsTypeAttrs[] servicePlsqlObjectArrayExampleGetObjectArrayOfFlights
    (@WebParam(name="paramPCity") String paramPCity) throws DAOFactoryServiceException
  {
  try
    {
    theLog.debug("servicePlsqlObjectArrayExampleGetObjectArrayOfFlights Starting");
    
    // Declare variable to hold result of service
    FlightsTypeAttrs[] serviceOutput;
    
    // Get instance of created class
    theLog.debug("servicePlsqlObjectArrayExampleGetObjectArrayOfFlights: Get instance of created class");
    com.orindasoft.demo.generated.plsql.ObjectArrayExampleGetObjectArrayOfFlights theService = getObjectArrayExampleGetObjectArrayOfFlightsPlSqlDAO();
    
    // Set parameters
    theLog.debug("servicePlsqlObjectArrayExampleGetObjectArrayOfFlights: Set parameters");
    theService.setParamPCity(paramPCity);
    
    // Call procedure
    theLog.debug("servicePlsqlObjectArrayExampleGetObjectArrayOfFlights: Call procedure");
    theService.executeProc();
    
    // Unload results
    theLog.debug("servicePlsqlObjectArrayExampleGetObjectArrayOfFlights: Unload results");
    serviceOutput = theService.getParamPFlightsFrom().getCurrentValues();
    
    theLog.debug("servicePlsqlObjectArrayExampleGetObjectArrayOfFlights Returning Data");
    return(serviceOutput);
    }
  catch (com.orindasoft.pub.CSException e)
    {
    DAOFactoryServiceException e2 = new DAOFactoryServiceException(e.getMessage());
    theLog.error("servicePlsqlObjectArrayExampleGetObjectArrayOfFlights Failed:");
    theLog.error(e.getMessage());
    throw (e2);
    }
  finally
    {
    
    if (alwaysReleaseResources)
      {
      // Hand back DB connection...
      releaseResources();
      }
    
    }
  }
/** 
* Call Class PackageArrayExampleAddBookingsPlsqlArray as a service
* @param CustomersAttrs paramPCustomer PL/SQL RECORD
* @param BookingsAttrs[] paramPBookingTable VARRAY
* @return String
* @throws DAOFactoryServiceException
*/
// JSR-181 support - make this method part of a web service
@WebMethod
public String servicePlsqlPackageArrayExampleAddBookingsPlsqlArray
    (@WebParam(name="paramPCustomer") CustomersAttrs paramPCustomer
    ,@WebParam(name="paramPBookingTable") BookingsAttrs[] paramPBookingTable) throws DAOFactoryServiceException
  {
  try
    {
    theLog.debug("servicePlsqlPackageArrayExampleAddBookingsPlsqlArray Starting");
    
    // Fill in null parameters with objects if requested
    if (castNullToNewObject) 
      {
      if (paramPCustomer == null) paramPCustomer = new CustomersAttrs();
      if (paramPBookingTable == null) paramPBookingTable = new BookingsAttrs[0];
      }
     
    // Declare variable to hold result of service
    String serviceOutput;
    
    // Get instance of created class
    theLog.debug("servicePlsqlPackageArrayExampleAddBookingsPlsqlArray: Get instance of created class");
    com.orindasoft.demo.generated.plsql.PackageArrayExampleAddBookingsPlsqlArray theService = getPackageArrayExampleAddBookingsPlsqlArrayPlSqlDAO();
    
    // Set parameters
    theLog.debug("servicePlsqlPackageArrayExampleAddBookingsPlsqlArray: Set parameters");
     
    if (paramPCustomer != null)
      {
      theService.setParamPCustomer(Customers.createCustomersFromCustomersAttrs(paramPCustomer));
      }
    else
      {
      theService.setParamPCustomerToNull();
      }
     
    if (paramPBookingTable != null)
      {
      theService.setParamPBookingTable(new PackageArrayExampleBookingsPlsqlArray(theLog, (Bookings.createBookingsArrayFromBookingsAttrsArray(paramPBookingTable))));
      }
    else
      {
      theService.setParamPBookingTableToNull();
      }
    
    // Call procedure
    theLog.debug("servicePlsqlPackageArrayExampleAddBookingsPlsqlArray: Call procedure");
    theService.executeProc();
    
    // Unload results
    theLog.debug("servicePlsqlPackageArrayExampleAddBookingsPlsqlArray: Unload results");
    serviceOutput = theService.getParamPStatusMessage();
    
    theLog.debug("servicePlsqlPackageArrayExampleAddBookingsPlsqlArray Returning Data");
    return(serviceOutput);
    }
  catch (com.orindasoft.pub.CSException e)
    {
    DAOFactoryServiceException e2 = new DAOFactoryServiceException(e.getMessage());
    theLog.error("servicePlsqlPackageArrayExampleAddBookingsPlsqlArray Failed:");
    theLog.error(e.getMessage());
    throw (e2);
    }
  finally
    {
    
    if (alwaysReleaseResources)
      {
      // Hand back DB connection...
      releaseResources();
      }
    
    }
  }
/** 
* Call Class PackageArrayExampleGetPlsqlArrayOfFlights as a service
* @param String paramPCity VARCHAR2
* @return FlightsAttrs[]
* @throws DAOFactoryServiceException
*/
// JSR-181 support - make this method part of a web service
@WebMethod
public FlightsAttrs[] servicePlsqlPackageArrayExampleGetPlsqlArrayOfFlights
    (@WebParam(name="paramPCity") String paramPCity) throws DAOFactoryServiceException
  {
  try
    {
    theLog.debug("servicePlsqlPackageArrayExampleGetPlsqlArrayOfFlights Starting");
    
    // Declare variable to hold result of service
    FlightsAttrs[] serviceOutput;
    
    // Get instance of created class
    theLog.debug("servicePlsqlPackageArrayExampleGetPlsqlArrayOfFlights: Get instance of created class");
    com.orindasoft.demo.generated.plsql.PackageArrayExampleGetPlsqlArrayOfFlights theService = getPackageArrayExampleGetPlsqlArrayOfFlightsPlSqlDAO();
    
    // Set parameters
    theLog.debug("servicePlsqlPackageArrayExampleGetPlsqlArrayOfFlights: Set parameters");
    theService.setParamPCity(paramPCity);
    
    // Call procedure
    theLog.debug("servicePlsqlPackageArrayExampleGetPlsqlArrayOfFlights: Call procedure");
    theService.executeProc();
    
    // Unload results
    theLog.debug("servicePlsqlPackageArrayExampleGetPlsqlArrayOfFlights: Unload results");
    serviceOutput = theService.getParamPFlightsFrom().getCurrentValues();
    
    theLog.debug("servicePlsqlPackageArrayExampleGetPlsqlArrayOfFlights Returning Data");
    return(serviceOutput);
    }
  catch (com.orindasoft.pub.CSException e)
    {
    DAOFactoryServiceException e2 = new DAOFactoryServiceException(e.getMessage());
    theLog.error("servicePlsqlPackageArrayExampleGetPlsqlArrayOfFlights Failed:");
    theLog.error(e.getMessage());
    throw (e2);
    }
  finally
    {
    
    if (alwaysReleaseResources)
      {
      // Hand back DB connection...
      releaseResources();
      }
    
    }
  }
/** 
* Call Class PackageIdxarrayExampleAddBookingsPlsqlArray as a service
* @param CustomersAttrs paramPCustomer PL/SQL RECORD
* @param BookingsAttrs[] paramPBookingTable PL/SQL TABLE
* @return String
* @throws DAOFactoryServiceException
*/
// JSR-181 support - make this method part of a web service
@WebMethod
public String servicePlsqlPackageIdxarrayExampleAddBookingsPlsqlArray
    (@WebParam(name="paramPCustomer") CustomersAttrs paramPCustomer
    ,@WebParam(name="paramPBookingTable") BookingsAttrs[] paramPBookingTable) throws DAOFactoryServiceException
  {
  try
    {
    theLog.debug("servicePlsqlPackageIdxarrayExampleAddBookingsPlsqlArray Starting");
    
    // Fill in null parameters with objects if requested
    if (castNullToNewObject) 
      {
      if (paramPCustomer == null) paramPCustomer = new CustomersAttrs();
      if (paramPBookingTable == null) paramPBookingTable = new BookingsAttrs[0];
      }
     
    // Declare variable to hold result of service
    String serviceOutput;
    
    // Get instance of created class
    theLog.debug("servicePlsqlPackageIdxarrayExampleAddBookingsPlsqlArray: Get instance of created class");
    com.orindasoft.demo.generated.plsql.PackageIdxarrayExampleAddBookingsPlsqlArray theService = getPackageIdxarrayExampleAddBookingsPlsqlArrayPlSqlDAO();
    
    // Set parameters
    theLog.debug("servicePlsqlPackageIdxarrayExampleAddBookingsPlsqlArray: Set parameters");
     
    if (paramPCustomer != null)
      {
      theService.setParamPCustomer(Customers.createCustomersFromCustomersAttrs(paramPCustomer));
      }
    else
      {
      theService.setParamPCustomerToNull();
      }
     
    if (paramPBookingTable != null)
      {
      theService.setParamPBookingTable(new PackageIdxarrayExampleBookingsPlsqlArray(theLog, (Bookings.createBookingsArrayFromBookingsAttrsArray(paramPBookingTable))));
      }
    else
      {
      theService.setParamPBookingTableToNull();
      }
    
    // Call procedure
    theLog.debug("servicePlsqlPackageIdxarrayExampleAddBookingsPlsqlArray: Call procedure");
    theService.executeProc();
    
    // Unload results
    theLog.debug("servicePlsqlPackageIdxarrayExampleAddBookingsPlsqlArray: Unload results");
    serviceOutput = theService.getParamPStatusMessage();
    
    theLog.debug("servicePlsqlPackageIdxarrayExampleAddBookingsPlsqlArray Returning Data");
    return(serviceOutput);
    }
  catch (com.orindasoft.pub.CSException e)
    {
    DAOFactoryServiceException e2 = new DAOFactoryServiceException(e.getMessage());
    theLog.error("servicePlsqlPackageIdxarrayExampleAddBookingsPlsqlArray Failed:");
    theLog.error(e.getMessage());
    throw (e2);
    }
  finally
    {
    
    if (alwaysReleaseResources)
      {
      // Hand back DB connection...
      releaseResources();
      }
    
    }
  }
/** 
* Call Class PackageIdxarrayExampleGetPlsqlArrayOfFlights as a service
* @param String paramPCity VARCHAR2
* @return FlightsAttrs[]
* @throws DAOFactoryServiceException
*/
// JSR-181 support - make this method part of a web service
@WebMethod
public FlightsAttrs[] servicePlsqlPackageIdxarrayExampleGetPlsqlArrayOfFlights
    (@WebParam(name="paramPCity") String paramPCity) throws DAOFactoryServiceException
  {
  try
    {
    theLog.debug("servicePlsqlPackageIdxarrayExampleGetPlsqlArrayOfFlights Starting");
    
    // Declare variable to hold result of service
    FlightsAttrs[] serviceOutput;
    
    // Get instance of created class
    theLog.debug("servicePlsqlPackageIdxarrayExampleGetPlsqlArrayOfFlights: Get instance of created class");
    com.orindasoft.demo.generated.plsql.PackageIdxarrayExampleGetPlsqlArrayOfFlights theService = getPackageIdxarrayExampleGetPlsqlArrayOfFlightsPlSqlDAO();
    
    // Set parameters
    theLog.debug("servicePlsqlPackageIdxarrayExampleGetPlsqlArrayOfFlights: Set parameters");
    theService.setParamPCity(paramPCity);
    
    // Call procedure
    theLog.debug("servicePlsqlPackageIdxarrayExampleGetPlsqlArrayOfFlights: Call procedure");
    theService.executeProc();
    
    // Unload results
    theLog.debug("servicePlsqlPackageIdxarrayExampleGetPlsqlArrayOfFlights: Unload results");
    serviceOutput = theService.getParamPFlightsFrom().getCurrentValues();
    
    theLog.debug("servicePlsqlPackageIdxarrayExampleGetPlsqlArrayOfFlights Returning Data");
    return(serviceOutput);
    }
  catch (com.orindasoft.pub.CSException e)
    {
    DAOFactoryServiceException e2 = new DAOFactoryServiceException(e.getMessage());
    theLog.error("servicePlsqlPackageIdxarrayExampleGetPlsqlArrayOfFlights Failed:");
    theLog.error(e.getMessage());
    throw (e2);
    }
  finally
    {
    
    if (alwaysReleaseResources)
      {
      // Hand back DB connection...
      releaseResources();
      }
    
    }
  }
/** 
* Call Class ChangeFlightDates as a service
* @return void
* @throws DAOFactoryServiceException
*/
// JSR-181 support - make this method part of a web service
@WebMethod
public void serviceSqlChangeFlightDates() throws DAOFactoryServiceException
  {
  try
    {
    theLog.debug("serviceSqlChangeFlightDates Starting");
    
    // Get instance of created class
    theLog.debug("serviceSqlChangeFlightDates: Get instance of created class");
    com.orindasoft.demo.generated.sql.ChangeFlightDates theService = getChangeFlightDatesSqlDAO();
    
    
    // Call statement
    theLog.debug("serviceSqlChangeFlightDates: Call statement");
    theService.executeCall();
    
    }
  catch (com.orindasoft.pub.CSException e)
    {
    DAOFactoryServiceException e2 = new DAOFactoryServiceException(e.getMessage());
    theLog.error("serviceSqlChangeFlightDates Failed:");
    theLog.error(e.getMessage());
    throw (e2);
    }
  finally
    {
    
    if (alwaysReleaseResources)
      {
      // Hand back DB connection...
      releaseResources();
      }
    
    }
  }
/** 
* Call Class CustcomerAdd as a service
* @param String Paramname STRING
* @param String Paramaddress STRING
* @param String Paramcity STRING
* @param String Paramstate STRING
* @param double Paramzip NUMBER
* @param java.util.Date Parambdate DATE
* @param String Paramphone STRING
* @return void
* @throws DAOFactoryServiceException
*/
// JSR-181 support - make this method part of a web service
@WebMethod
public void serviceSqlCustcomerAdd
    (@WebParam(name="Paramname") String Paramname
    ,@WebParam(name="Paramaddress") String Paramaddress
    ,@WebParam(name="Paramcity") String Paramcity
    ,@WebParam(name="Paramstate") String Paramstate
    ,@WebParam(name="Paramzip") double Paramzip
    ,@WebParam(name="Parambdate") java.util.Date Parambdate
    ,@WebParam(name="Paramphone") String Paramphone) throws DAOFactoryServiceException
  {
  try
    {
    theLog.debug("serviceSqlCustcomerAdd Starting");
    
    // Get instance of created class
    theLog.debug("serviceSqlCustcomerAdd: Get instance of created class");
    com.orindasoft.demo.generated.sql.CustcomerAdd theService = getCustcomerAddSqlDAO();
    
    theService.setParamname(Paramname);
    theService.setParamaddress(Paramaddress);
    theService.setParamcity(Paramcity);
    theService.setParamstate(Paramstate);
     
    if (minValueIsNULL && Paramzip == Double.MIN_VALUE)
      {
      theService.setParamzipToNull();
      }
    else
      {
      theService.setParamzip(Paramzip);
      }
       
    theService.setParambdate(Parambdate);
    theService.setParamphone(Paramphone);
    
    // Call statement
    theLog.debug("serviceSqlCustcomerAdd: Call statement");
    theService.executeCall();
    
    }
  catch (com.orindasoft.pub.CSException e)
    {
    DAOFactoryServiceException e2 = new DAOFactoryServiceException(e.getMessage());
    theLog.error("serviceSqlCustcomerAdd Failed:");
    theLog.error(e.getMessage());
    throw (e2);
    }
  finally
    {
    
    if (alwaysReleaseResources)
      {
      // Hand back DB connection...
      releaseResources();
      }
    
    }
  }
/** 
* Call Class CustomerDelete as a service
* @param String ParamParam1 STRING
* @return void
* @throws DAOFactoryServiceException
*/
// JSR-181 support - make this method part of a web service
@WebMethod
public void serviceSqlCustomerDelete
    (@WebParam(name="ParamParam1") String ParamParam1) throws DAOFactoryServiceException
  {
  try
    {
    theLog.debug("serviceSqlCustomerDelete Starting");
    
    // Get instance of created class
    theLog.debug("serviceSqlCustomerDelete: Get instance of created class");
    com.orindasoft.demo.generated.sql.CustomerDelete theService = getCustomerDeleteSqlDAO();
    
    theService.setParamParam1(ParamParam1);
    
    // Call statement
    theLog.debug("serviceSqlCustomerDelete: Call statement");
    theService.executeCall();
    
    }
  catch (com.orindasoft.pub.CSException e)
    {
    DAOFactoryServiceException e2 = new DAOFactoryServiceException(e.getMessage());
    theLog.error("serviceSqlCustomerDelete Failed:");
    theLog.error(e.getMessage());
    throw (e2);
    }
  finally
    {
    
    if (alwaysReleaseResources)
      {
      // Hand back DB connection...
      releaseResources();
      }
    
    }
  }
/** 
* Call Class CustomerUpdate as a service
* @param String Paramaddress STRING
* @param String Paramcity STRING
* @param String Paramstate STRING
* @param double Paramzip NUMBER
* @param java.util.Date Parambdate DATE
* @param String Paramphone STRING
* @param String Paramname STRING
* @return void
* @throws DAOFactoryServiceException
*/
// JSR-181 support - make this method part of a web service
@WebMethod
public void serviceSqlCustomerUpdate
    (@WebParam(name="Paramaddress") String Paramaddress
    ,@WebParam(name="Paramcity") String Paramcity
    ,@WebParam(name="Paramstate") String Paramstate
    ,@WebParam(name="Paramzip") double Paramzip
    ,@WebParam(name="Parambdate") java.util.Date Parambdate
    ,@WebParam(name="Paramphone") String Paramphone
    ,@WebParam(name="Paramname") String Paramname) throws DAOFactoryServiceException
  {
  try
    {
    theLog.debug("serviceSqlCustomerUpdate Starting");
    
    // Get instance of created class
    theLog.debug("serviceSqlCustomerUpdate: Get instance of created class");
    com.orindasoft.demo.generated.sql.CustomerUpdate theService = getCustomerUpdateSqlDAO();
    
    theService.setParamaddress(Paramaddress);
    theService.setParamcity(Paramcity);
    theService.setParamstate(Paramstate);
     
    if (minValueIsNULL && Paramzip == Double.MIN_VALUE)
      {
      theService.setParamzipToNull();
      }
    else
      {
      theService.setParamzip(Paramzip);
      }
       
    theService.setParambdate(Parambdate);
    theService.setParamphone(Paramphone);
    theService.setParamname(Paramname);
    
    // Call statement
    theLog.debug("serviceSqlCustomerUpdate: Call statement");
    theService.executeCall();
    
    }
  catch (com.orindasoft.pub.CSException e)
    {
    DAOFactoryServiceException e2 = new DAOFactoryServiceException(e.getMessage());
    theLog.error("serviceSqlCustomerUpdate Failed:");
    theLog.error(e.getMessage());
    throw (e2);
    }
  finally
    {
    
    if (alwaysReleaseResources)
      {
      // Hand back DB connection...
      releaseResources();
      }
    
    }
  }
/** 
* Call Class GetFlights as a service
* @param String Paramcity STRING
* @return com.orindasoft.demo.generated.sql.GetFlightsCursorAttr[]
* @throws DAOFactoryServiceException
*/
// JSR-181 support - make this method part of a web service
@WebMethod
public com.orindasoft.demo.generated.sql.GetFlightsCursorAttr[] serviceSqlGetFlights
    (@WebParam(name="Paramcity") String Paramcity) throws DAOFactoryServiceException
  {
  try
    {
    theLog.debug("serviceSqlGetFlights Starting");
    
    // Declare variable to hold result of service
    com.orindasoft.demo.generated.sql.GetFlightsCursorAttr[] serviceOutput;
    
    // Get instance of created class
    theLog.debug("serviceSqlGetFlights: Get instance of created class");
    com.orindasoft.demo.generated.sql.GetFlights theService = getGetFlightsSqlDAO();
    
    // Set parameters
    theLog.debug("serviceSqlGetFlights: Set parameters");
    theService.setParamcity(Paramcity);
    theService.setParamcity(Paramcity);
    
    // Call Query
    theLog.debug("serviceSqlGetFlights: Call Query");
    serviceOutput = (com.orindasoft.demo.generated.sql.GetFlightsCursorAttr[])com.orindasoft.demo.generated.sql.GetFlights.getArrayFromReadOnlyRowSet(theService.executeQuery(), theLog, true );
    
    // Unload results
    theLog.debug("serviceSqlGetFlights: Unload results");
    
    theLog.debug("serviceSqlGetFlights Returning Data");
    return(serviceOutput);
    }
  catch (com.orindasoft.pub.CSException e)
    {
    DAOFactoryServiceException e2 = new DAOFactoryServiceException(e.getMessage());
    theLog.error("serviceSqlGetFlights Failed:");
    theLog.error(e.getMessage());
    throw (e2);
    }
  finally
    {
    
    if (alwaysReleaseResources)
      {
      // Hand back DB connection...
      releaseResources();
      }
    
    }
  }
/**
 * Turns a file into a Byte array. The file is deleted.
 * @param theFile A file we wish to load into a Byte Array
 * @return A Byte array containing the contents of the file
 * @throws CSException
 */
protected byte[] loadFileIntoByteArray(java.io.File theFile) throws CSException
  {
  byte[] newArray = null;
  try
    {
    if (theFile != null && theFile.exists() && theFile.length() > 0)
      {
      if (theFile.length() > Integer.MAX_VALUE)
        {
        throw new CSException("loadFileIntoByteArray: File " 
                             + theFile.getAbsolutePath()
                             + " is too big to be turned into a Byte array");
        }
         
      theLog.debug("loadFileIntoByteArray: Starting to load " 
                       + theFile.length()
                       + " from temp file " + theFile.getAbsolutePath() + " into byte array");

      newArray = new byte[(int)theFile.length()];
      java.io.BufferedInputStream theInputStream = new java.io.BufferedInputStream(new java.io.FileInputStream(theFile));
      theInputStream.read(newArray);
      theInputStream.close();
      theLog.debug("loadFileIntoByteArray: Finished loading byte array");
      }
    else
      {
      theLog.debug("loadFileIntoByteArray: Turning empty/null file into byte array"); 
      }
     
    }
  catch (java.io.IOException e)
    {
    throw new CSException("loadFileIntoByteArray:" + e.getMessage());
    }

  return (newArray);
  }


/**
 * Turns a file into a Byte array or uses an existing byte array. The file is deleted.
 * @param theFile A file we wish to load into a Byte Array
 * @param theArray An existing Byte Array that may or not have the data we want
 * @return A Byte array containing the contents of the file or theArray
 * @throws CSException
 */
protected byte[] loadFileIntoByteArray(java.io.File theFile, byte[] theArray) throws CSException
  {
  if (theArray != null)
    {
    return(theArray);
    }
  return (loadFileIntoByteArray(theFile));
  }


/**
 * Turns a Byte array into a File. 
 * @param theBytes A Byte array
 * @return A File containing theBytes
 * @throws CSException
 */
protected java.io.File loadByteArrayIntoFile(byte[] theBytes) throws CSException
  {
  return(com.orindasoft.pub.IOUtils.loadByteArrayIntoFile(theBytes, tempFilePrefix, tempFileSuffix, tempFileDir.getAbsolutePath(), theLog));
  }
    
/**
* Turns a ReadOnlyRowSet into a WsdlRowSet. 
* @param com.orindasoft.pub.ReadOnlyRowSet theRowSet A query
* @return WsdlRowSet A data structure that can be serialized
* @throws CSException
*/
protected WsdlRowSet createWSDLRowset(com.orindasoft.pub.ReadOnlyRowSet theRowSet) throws CSException
  {
  WsdlRowSet newRowSet = new WsdlRowSet();
  
  if (theRowSet == null)
    {
    return(newRowSet);
    }
  
  newRowSet.columnNames = theRowSet.getColumnNamesAsStringArray();
  newRowSet.rows = new WsdlRow[theRowSet.size()];
  
  for (int i=0; i < theRowSet.size(); i++)
    {
    try
      {
      theRowSet.setCurrentRowNumber(i);
      newRowSet.rows[i] = new WsdlRow();
      Object[] currentRow  = theRowSet.getCurrentRow();
      newRowSet.rows[i].rowColumns = new WsdlElement[currentRow.length];
       
      for (int j=0; j < currentRow.length; j++)
        {
        newRowSet.rows[i].rowColumns[j] = new WsdlElement();
        newRowSet.rows[i].rowColumns[j].column = currentRow[j];
         
        // Turn Files into Byte arrays
        if (newRowSet.rows[i].rowColumns[j].column instanceof java.io.File)
          {
          java.io.File tempFile = (java.io.File)newRowSet.rows[i].rowColumns[j].column;
          if (tempFile.exists())
            {
            newRowSet.rows[i].rowColumns[j].column = loadFileIntoByteArray(tempFile);
            tempFile.delete();
            }
          else
            {
            newRowSet.rows[i].rowColumns[j].column = new byte[0];
            }
          }
        // Turn Oracle's Interval data types into Strings
        // This code will not compile if you use a JDBC driver prior to Oracle 10g
        else if (   newRowSet.rows[i].rowColumns[j].column instanceof oracle.sql.INTERVALDS 
                 || newRowSet.rows[i].rowColumns[j].column instanceof oracle.sql.INTERVALYM)
          {
          newRowSet.rows[i].rowColumns[j].column = newRowSet.rows[i].rowColumns[j].column.toString().trim();
          }
        // Turn Oracle's Timestamp data types into Strings
        // This code will not compile if you use a JDBC driver prior to Oracle 9i
        else if (   newRowSet.rows[i].rowColumns[j].column instanceof oracle.sql.TIMESTAMP)
          {
          newRowSet.rows[i].rowColumns[j].column = oracle.sql.TIMESTAMP.toString(((oracle.sql.TIMESTAMP)newRowSet.rows[i].rowColumns[j].column).getBytes());
          }
        else if (   newRowSet.rows[i].rowColumns[j].column instanceof oracle.sql.TIMESTAMPTZ)
          {
          try 
            {
            newRowSet.rows[i].rowColumns[j].column = oracle.sql.TIMESTAMPTZ.toString(theConnection,((oracle.sql.TIMESTAMPTZ)newRowSet.rows[i].rowColumns[j].column).getBytes());
            }
          catch (java.sql.SQLException e)
            {
            theLog.error("Row " + i + " Column " + newRowSet.columnNames[j] +": SQLException thrown:"); 
            theLog.error(e);   
            throw new CSException(e.getMessage());
            }
          }
        else if (   newRowSet.rows[i].rowColumns[j].column instanceof oracle.sql.TIMESTAMPLTZ)
          {
          try 
            {
            newRowSet.rows[i].rowColumns[j].column = oracle.sql.TIMESTAMPLTZ.toString(theConnection,((oracle.sql.TIMESTAMPLTZ)newRowSet.rows[i].rowColumns[j].column).getBytes());
            }
          catch (java.sql.SQLException e)
            {
            theLog.error("Row " + i + " Column " + newRowSet.columnNames[j] +": SQLException thrown:"); 
            theLog.error(e);   
            throw new CSException(e.getMessage());
            }
          }
        // If a ReadOnlyRowSet contains a 'bad' BFILE there will be an Exception instead of a File object
        else if (newRowSet.rows[i].rowColumns[j].column instanceof CSException)
          {
          theLog.error("Row " + i + " Column " + newRowSet.columnNames[j] +": CSException found instead of LOB.:"); 
          theLog.error((CSException)newRowSet.rows[i].rowColumns[j].column);
          throw((CSException)newRowSet.rows[i].rowColumns[j].column);
          }
         
        }
      }
    catch (com.orindasoft.pub.CSNoDataInRowSetException e)
      {
      newRowSet.rows[i] = null;
      }
    }
  return(newRowSet);
  }
 
/** 
* Executes a DDL statement
* @since JDBCWizard 5.1.2557 
*/ 
private void executeImmediate(String ddl, int allowableErrorCode) throws CSException
  {                                                                   
  java.sql.CallableStatement theStatement = null;                                      
                                                                   
  if (theConnection == null)
    {                                  
    throw (new CSException("Not Connected - Statement can not be issued"));  
    }                      
                                                                   
  // Parse execute immediate request...                          
  try                                                              
    {                                                                
    theLog.info(ddl);
    theLog.debug("executeImmediate - Starting to parse statement");
    theStatement = theConnection.prepareCall(ddl);    
    theLog.debug("executeImmediate - Finished parsing statement");
    }                                                                  
  catch (java.sql.SQLException e)                                    
    {                                                                   
    theLog.error("executeImmediate: Prepare Statement failed with " + e.toString());
    CSDBException e2 = new CSDBException(e.getErrorCode(),e.getMessage(),"executeImmediate","DAOFactory");
    throw (e2);   
    }       
                                                                
  try                                                              
    {                                                                
    theStatement.execute();
    theStatement.close();
    }
  catch (java.sql.SQLException e)
    {
    if (e.getErrorCode() != allowableErrorCode)
      {                                  
      theLog.error("DAOFactory - Execute Immediate Failed:");
      theLog.error(e);
      CSDBException e2 = new CSDBException(e.getErrorCode(),e.getMessage(),"executeImmediate","DAOFactory");
      throw(e2);
      }
    }
  }                      
 
/** 
* Creates generated Oracle TYPE objects that are needed to 
* access PL/SQL Package Array Parameters.
* @since JDBCWizard 5.1.2557
*/ 
public void createExtraTypeObjects() throws CSException
  {
  confirmConnection("createExtraTypeObjects");
   
  executeImmediate("CREATE OR REPLACE TYPE OSOFT46ND2_T AS OBJECT" 
   
                 + " (COL_0 VARCHAR2(16)"
   
                 + " ,COL_1 VARCHAR2(64)"
   
                 + " ,COL_2 NUMBER"
   
                 + " ,COL_3 DATE"
   
                 + " ,COL_4 VARCHAR2(4))",SqlUtils.TYPE_HAS_DEPENDENTS);
   
  executeImmediate("CREATE OR REPLACE TYPE OSOFT46ND2_A  AS TABLE OF OSOFT46ND2_T;",SqlUtils.TYPE_HAS_DEPENDENTS); 
  executeImmediate("CREATE OR REPLACE TYPE OSOFT446NDD6_T AS OBJECT" 
   
                 + " (COL_0 VARCHAR2(16)"
   
                 + " ,COL_1 VARCHAR2(16)"
   
                 + " ,COL_2 VARCHAR2(64)"
   
                 + " ,COL_3 NUMBER"
   
                 + " ,COL_4 DATE"
   
                 + " ,COL_5 DATE"
   
                 + " ,COL_6 VARCHAR2(64))",SqlUtils.TYPE_HAS_DEPENDENTS);
   
  executeImmediate("CREATE OR REPLACE TYPE OSOFT446NDD6_A  AS TABLE OF OSOFT446NDD6_T;",SqlUtils.TYPE_HAS_DEPENDENTS); 
   
  }
 
/** 
* Removes generated Oracle TYPE objects that are needed to 
* access PL/SQL Package Array Parameters.
* @since JDBCWizard 5.1.2557
*/ 
public void dropExtraTypeObjects() throws CSException
  {
  confirmConnection("dropExtraTypeObjects");
   
  executeImmediate("DROP TYPE OSOFT46ND2_A",SqlUtils.OBJECT_DOES_NOT_EXIST); 
   
  executeImmediate("DROP TYPE OSOFT46ND2_T",SqlUtils.OBJECT_DOES_NOT_EXIST); 
   
  executeImmediate("DROP TYPE OSOFT446NDD6_A",SqlUtils.OBJECT_DOES_NOT_EXIST); 
   
  executeImmediate("DROP TYPE OSOFT446NDD6_T",SqlUtils.OBJECT_DOES_NOT_EXIST); 
   
  }
 
/** 
* Removes generated Oracle TYPE objects that appear to have 
* been created by JDBCWizard, even if they aren't used by this generated service.
* @since JDBCWizard 5.1.2557
*/ 
public void dropAllExtraTypeObjects() throws CSException
  {
   
  final String DROP_ALL_TYPES_BLOCK = 
      "DECLARE\n" 
    + "--\n"  
    + "CURSOR typecur IS\n" 
    + "SELECT 'DROP TYPE '||type_name cmd\n" 
    + "FROM user_types\n"
    + "WHERE type_name LIKE '" + tempFilePrefix.toUpperCase()  + "%'\n" 
    + "ORDER BY DECODE (typecode,'COLLECTION',1,2), type_name;\n"
    + "--\n" 
    + "BEGIN\n"  
    + "--\n"
    + "FOR typerec IN typecur LOOP\n" 
    + "--\n" 
    + "  EXECUTE IMMEDIATE typerec.cmd;\n" 
    + "--\n" 
    + "END LOOP;\n" 
    + "--\n" 
    + "END;\n"; 
   
  confirmConnection("dropAllExtraTypeObjects");
  executeImmediate(DROP_ALL_TYPES_BLOCK,0); 
   
  }
} // Generated by JDBCWizard 6.0.2814                                                  
